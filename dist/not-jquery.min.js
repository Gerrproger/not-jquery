/*!
 * Not jquery
 * @version  v0.9.4
 * @author   Gerrproger
 * Website:  http://gerrproger.github.io/not-jquery
 * Repo:     http://github.com/gerrproger/not-jquery
 * Issues:   http://github.com/gerrproger/not-jquery/issues
 */(function(l,d){"use strict";typeof module=="object"&&typeof module.exports=="object"?module.exports=d(l,document):typeof define=="function"&&define.amd?define(null,function(){d(l,document)}):l.nj=d(l,document)})(typeof window!="undefined"?window:this,function(l,d){"use strict";var y=d,v=l.notBrowser,E=function(n){if(!(v&&!v.good))return this._addArrayProtos(),this.init(n)},u=E.prototype;u.init=function(t){var n=this.find(t);return typeof t=="function"&&(y.readyState==="complete"||d.readyState!=="loading"&&!d.documentElement.doScroll?t.apply(y):n.on("DOMContentLoaded",t)),n},u._addArrayProtos=function(){var t=Object.getOwnPropertyNames(Array.prototype);return s(t,function(n){var e=t[n];switch(e){case"length":case"constructor":break;case"find":u.findIn=Array.prototype[e];break;default:u[e]=Array.prototype[e]}}),this},u._fill=function(t){var n=Object.create(u);return t=t.filter(function(e,i){return t.indexOf(e)===i}),t.forEach(function(e,i){n[i]=e}),n.length=t.length,n},u.find=function(t){var n=this,e=[],i=i||Document;switch(typeof t){case"string":r();break;case"object":t instanceof HTMLFormElement?o([t]):t instanceof HTMLElement||t instanceof NodeList||t instanceof HTMLCollection||t instanceof i?o(t):o(y);break;default:o(y)}function r(){var a=n.length?n:[y];a.forEach(function(p){var c=h(p.querySelectorAll(t));c.length&&(e=e.concat(c))})}function o(a){e=h(a)}return this._fill(e)},u.on=function(t,n,e){return f(e)&&(e="default"),this.forEach(function(i){var r=i.njEvents;r?r[t]?r[t][e]?r[t][e].push(n):r[t][e]=[n]:(r[t]={},r[t][e]=[n]):(r=i.njEvents={},r[t]={},r[t][e]=[n]),i.addEventListener(t,n)}),this},u.off=function(t,n){var e=f(n);return this.forEach(function(i){var r=i.njEvents;r&&(t?e?r[t]&&(s(r[t],function(o){r[t][o].forEach(function(a){i.removeEventListener(t,a)})}),delete r[t]):r[t]&&r[t][n]&&(r[t][n].forEach(function(o){i.removeEventListener(t,o)}),delete r[t][n]):e?(s(r,function(o){s(r[o],function(a){r[o][a].forEach(function(p){i.removeEventListener(o,p)})})}),delete i.njEvents):s(r,function(o){r[o][n]&&(r[o][n].forEach(function(a){i.removeEventListener(o,a)}),delete r[o][n])}))}),this},u.closest=function(t){var n=[];return this.forEach(function(e){if(f(t)&&e.parentElement)n.push(e.parentElement);else for(;e=e.parentElement;)if(e.matches=e.matches||e.msMatchesSelector,e.matches(t)){n.push(e);break}}),this._fill(n)},u.remove=function(){return this.forEach(function(t){t.parentElement.removeChild(t)}),this},u.html=function(t){var n=this.map(function(e){if(f(t))return e.innerHTML.trim();e.innerHTML=t});return f(t)?b(n):this},u.text=function(t){var n=this.map(function(e){if(f(t))return e.textContent.trim();e.textContent=t});return f(t)?b(n):this},u.attr=function(t,n){var e=this.map(function(i){if(f(n)){if(f(t)){var r={};return h(i.attributes).forEach(function(o){r[o.name]=C(o.value)}),r}return C(i.getAttribute(t))}i.setAttribute(t,n)});return f(n)?b(e):this},u.data=function(t){var n="data-";if(typeof t=="object")return s(t,function(r){this.attr(n+w(r),t[r])}.bind(this)),this;if(!f(t))return this.attr(n+w(t));var e=this.attr();if(e)return e.length?e.map(i):i(e);return e;function i(r){var o={};return s(r,function(a){a.substr(0,5)===n&&(o[S(a.slice(5))]=r[a])}),o}},u.removeAttr=function(t){return this.forEach(function(n){n.removeAttribute(t)}),this},u.removeData=function(t){return t="data-"+w(t),this.removeAttr(t)},u.addClass=function(){var t=j(arguments);return this.forEach(function(n){h(t).forEach(function(e){n.classList.add(e)})}),this},u.removeClass=function(){var t=j(arguments);return this.forEach(function(n){h(t).forEach(function(e){n.classList.remove(e)})}),this},u.toggleClass=function(){var t=j(arguments);return this.forEach(function(n){h(t).forEach(function(e){n.classList.toggle(e)})}),this},u.hasClass=function(t){var n=!0,e=!0,i=this.map(function(r){var o=r.classList.contains(t);return o?e=!o:n=o,o});return n?!0:e?!1:b(i)},u.transitionEnd=function(t,n,e,i){return this.on("transitionend",function(r){var o=t.bind(this,r);if(!(e&&e!==r.propertyName||i&&"::"+i!==r.pseudoElement))return n instanceof HTMLElement?r.target===n?o():void 0:n!=="all"?r.target===this?o():void 0:o()},"njTransitionEnd")};var L=function(){return function(e){var i=new DOMParser().parseFromString(e,"text/html");return new E(i.body.children)}},x=function(){return function(e,i,r){var o={method:e.method&&e.method.toUpperCase()||(e.form?"POST":"GET"),body:f(e.body)?null:e.body,timeout:e.timeout||1e4,dataType:e.dataType||"auto"},a=new XMLHttpRequest;(o.method==="GET"||o.method==="HEAD")&&e.params&&(e.url.match(/\?/)?e.url+="&":e.url+="?",e.url+=Object.keys(e.params).map(function(c){return c+"="+encodeURIComponent(e.params[c])}).join("&")),a.open(o.method,e.url,!0,e.user,e.password),a.timeout=o.timeout,e.form?(a.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8"),o.body===null&&(o.body=new FormData(new E(e.form)[0]))):(o.method==="POST"||o.method==="PUT")&&o.body===null&&e.params&&(a.setRequestHeader("Content-Type","application/json; charset=UTF-8"),o.body=JSON.stringify(e.params)),e.headers&&s(e.headers,function(c){a.setRequestHeader(c,e.headers[c])}),e.overrideMimeType&&a.overrideMimeType(e.overrideMimeType),a.onreadystatechange=function(){e.readyStateChange&&e.readyStateChange(a),a.readyState===4&&(parseInt(a.status/100)===2&&i?i(p(a),a):r&&r(p(a),a))},e.beforeSend&&e.beforeSend(a),a.send(o.body);function p(c){var T=c.responseText;if(o.dataType==="auto"){var A=c.getResponseHeader("Content-Type");if(!A)return T;var H=A.split(/;/)[0];switch(H){case"text/html":o.dataType="html";break;case"application/json":o.dataType="json";break;case"text/plain":o.dataType="text"}}switch(o.dataType){case"html":return new L()(T);case"json":return C(T);case"text":default:return T}}return this}};function j(t){return t.length===1?t[0].split(/\s/g):t}function h(t){return f(t.length)&&(t=[t]),Array.prototype.slice.call(t)}function s(t,n){return Object.keys(t).forEach(n)}function f(t){return t===void 0}function w(t){return t.replace(/([A-Z])/g,function(n){return"-"+n.toLowerCase()})}function S(t){return t.replace(/-([a-z])/g,function(n){return n[1].toUpperCase()})}function C(t){try{return JSON.parse(t)}catch(n){return t}}function b(t){return t.length<2?t[0]:t}var m=function(n){return new E(n)};return m.ajax=new x,m.create=new L,m.proto=u,m.version="0.9.4",v&&(m.supported=v.good),m});
